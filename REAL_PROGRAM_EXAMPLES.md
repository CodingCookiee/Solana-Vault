# Real Solana Program Examples

## üéØ Working Examples You Can Use Right Now

### 1. **Memo Program** - ‚úÖ FULLY FUNCTIONAL
- **Program ID**: `MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr`
- **Network**: Available on all networks (devnet, mainnet, testnet)
- **What it does**: Stores text messages on the blockchain
- **Use case**: Perfect for learning program interactions

**Example Usage:**
```typescript
// Your app already has this implemented!
const result = await sendMemoMessage(connection, wallet, "Hello Solana!");
```

### 2. **System Program** - ‚úÖ FULLY FUNCTIONAL  
- **Program ID**: `11111111111111111111111111111111`
- **Network**: Built-in, always available
- **What it does**: Creates accounts, transfers SOL
- **Use case**: Fundamental operations like SOL transfers

**Example Usage:**
```typescript
// Transfer SOL between accounts
const result = await transferSol(connection, wallet, recipientAddress, 0.01);
```

### 3. **Token Program** - ‚úÖ FULLY FUNCTIONAL
- **Program ID**: `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`
- **Network**: Built-in, always available  
- **What it does**: Creates and manages SPL tokens
- **Use case**: Your app already uses this for token operations

## üîç IDL vs ABI - You're Absolutely Right!

**Solana IDL** = **Ethereum ABI**

| Aspect | Solana (IDL) | Ethereum (ABI) |
|--------|-------------|---------------|
| **Purpose** | Defines program interface | Defines contract interface |
| **Format** | JSON with Anchor structure | JSON with function signatures |
| **Contains** | Instructions, accounts, types | Functions, events, errors |
| **Generated by** | Anchor framework | Solidity compiler |

**Example IDL Structure:**
```json
{
  "version": "0.1.0",
  "name": "counter",
  "instructions": [
    {
      "name": "increment",
      "accounts": [
        {"name": "counter", "isMut": true, "isSigner": false}
      ],
      "args": []
    }
  ]
}
```

## üöÄ Real Deployed Programs You Can Interact With

### 1. **Serum DEX** (Advanced)
- **Program ID**: `9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin`
- **Network**: Mainnet/Devnet
- **IDL**: Available on GitHub
- **Complexity**: Advanced (market making, order books)

### 2. **Solend** (Lending Protocol)
- **Program ID**: `So1endDq2YkqhipRh3WViPa8hdiSpxWy6z3Z6tMCpAo`
- **Network**: Mainnet/Devnet
- **IDL**: Available on GitHub
- **Complexity**: Advanced (DeFi lending)

### 3. **Metaplex** (NFT Standard)
- **Program ID**: `metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s`
- **Network**: All networks
- **IDL**: Available on GitHub
- **Complexity**: Intermediate (NFT operations)

## üìã How to Find Program IDLs

### Method 1: GitHub Repositories
Most projects publish their IDLs in their repos:
- `target/idl/program_name.json` (Anchor projects)
- `idl/` directory
- Documentation folders

### Method 2: Solscan
1. Go to https://solscan.io/
2. Search for the program address
3. Look for "Anchor Program IDL" tab

### Method 3: Anchor Registry
Some programs are published to the Anchor registry:
```bash
anchor idl fetch <PROGRAM_ID>
```

## üõ†Ô∏è Step-by-Step: Using a Real Program

### Example: Interacting with a Counter Program

1. **Find the Program**
   - Look for deployed programs on GitHub
   - Check Solana Explorer for program accounts

2. **Get the IDL**
   ```bash
   # If published to anchor registry
   anchor idl fetch <PROGRAM_ID>
   
   # Or download from GitHub
   curl -o counter.json https://raw.githubusercontent.com/project/idl/counter.json
   ```

3. **Add to Your App**
   ```typescript
   import counterIdl from './idl/counter.json';
   
   const COUNTER_PROGRAM_ID = new PublicKey("YOUR_PROGRAM_ID");
   const program = new Program(counterIdl, COUNTER_PROGRAM_ID, provider);
   ```

4. **Interact with the Program**
   ```typescript
   // Initialize counter
   const counter = Keypair.generate();
   await program.methods
     .initialize()
     .accounts({
       counter: counter.publicKey,
       user: wallet.publicKey,
       systemProgram: SystemProgram.programId,
     })
     .signers([counter])
     .rpc();
   ```

## üîß Fixing the "_bn" Error

The error you encountered is likely due to Anchor's BN (BigNumber) handling. Here's the fix:

```typescript
// Instead of:
count: (account.count as BN).toNumber(),

// Use:
count: typeof account.count === 'number' 
  ? account.count 
  : (account.count as BN).toNumber(),
```

This handles both number and BN types safely.

## üéØ Quick Start Guide

1. **Start with Memo Program** - it's guaranteed to work
2. **Try SOL transfers** - uses the System Program
3. **Read account data** - explore any address
4. **Find a deployed program** - check GitHub repos
5. **Deploy your own** - use the provided Counter example

## üìö Resources for Finding Programs

- **Solana Cookbook**: https://solanacookbook.com/
- **Anchor Examples**: https://github.com/coral-xyz/anchor/tree/master/examples
- **Solana Program Library**: https://github.com/solana-labs/solana-program-library
- **Awesome Solana**: https://github.com/paul-schaaf/awesome-solana

Your app is now ready to interact with real Solana programs! The Memo Program and SOL transfers work immediately, and you have the foundation to add any other program interactions.
